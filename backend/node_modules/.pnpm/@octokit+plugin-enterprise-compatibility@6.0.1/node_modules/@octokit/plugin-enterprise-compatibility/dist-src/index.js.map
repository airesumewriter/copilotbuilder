{
  "version": 3,
  "sources": ["../../src/index.ts"],
  "sourcesContent": ["// Import for types only, not a production dependency\nimport type { Octokit } from \"@octokit/core\";\nimport { RequestError } from \"@octokit/request-error\";\n\nimport { VERSION } from \"./version.js\";\n\nexport function enterpriseCompatibility(octokit: Octokit) {\n  octokit.hook.wrap(\"request\", async (request, options) => {\n    // TODO: implement fix for #62 here\n\n    // https://github.com/octokit/plugin-enterprise-compatibility.js/issues/60\n    if (/\\/orgs\\/[^/]+\\/teams/.test(options.url)) {\n      try {\n        return await request(options);\n      } catch (error: any) {\n        if (error.status !== 404) {\n          throw error;\n        }\n\n        if (\n          !error.response ||\n          !error.response.headers[\"x-github-enterprise-version\"]\n        ) {\n          throw error;\n        }\n\n        const deprecatedUrl = options.url.replace(\n          /\\/orgs\\/[^/]+\\/teams\\/[^/]+/,\n          \"/teams/{team_id}\",\n        );\n\n        throw new RequestError(\n          `\"${options.method} ${options.url}\" is not supported in your GitHub Enterprise Server version. Please replace with octokit.request(\"${options.method} ${deprecatedUrl}\", { team_id })`,\n          404,\n          {\n            request: options,\n          },\n        );\n      }\n    }\n\n    return request(options);\n  });\n}\n\nenterpriseCompatibility.VERSION = VERSION;\n"],
  "mappings": "AAEA,SAAS,oBAAoB;AAE7B,SAAS,eAAe;AAEjB,SAAS,wBAAwB,SAAkB;AACxD,UAAQ,KAAK,KAAK,WAAW,OAAO,SAAS,YAAY;AAIvD,QAAI,uBAAuB,KAAK,QAAQ,GAAG,GAAG;AAC5C,UAAI;AACF,eAAO,MAAM,QAAQ,OAAO;AAAA,MAC9B,SAAS,OAAY;AACnB,YAAI,MAAM,WAAW,KAAK;AACxB,gBAAM;AAAA,QACR;AAEA,YACE,CAAC,MAAM,YACP,CAAC,MAAM,SAAS,QAAQ,6BAA6B,GACrD;AACA,gBAAM;AAAA,QACR;AAEA,cAAM,gBAAgB,QAAQ,IAAI;AAAA,UAChC;AAAA,UACA;AAAA,QACF;AAEA,cAAM,IAAI;AAAA,UACR,IAAI,QAAQ,MAAM,IAAI,QAAQ,GAAG,qGAAqG,QAAQ,MAAM,IAAI,aAAa;AAAA,UACrK;AAAA,UACA;AAAA,YACE,SAAS;AAAA,UACX;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEA,WAAO,QAAQ,OAAO;AAAA,EACxB,CAAC;AACH;AAEA,wBAAwB,UAAU;",
  "names": []
}
